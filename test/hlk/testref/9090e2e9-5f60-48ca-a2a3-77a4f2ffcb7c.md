---
title: Remote Replication SMAPI Test
Description: Remote Replication SMAPI Test
ms.assetid: 8c3ab06c-0d5e-4b84-9013-f4da7f7d7bbc
author: sapaetsc-msft
ms.author: sapaetsc
ms.date: 08/28/17
ms.topic: article
ms.prod: windows-hardware
ms.technology: windows-oem
---

# Remote Replication SMAPI Test

<conditional_block> <conditions> <docset value="standalone"></docset> </conditions>

>[!NOTE]
You can find the latest version of this test documentation on MSDN at the following link:

-   <xref hlink="http://msdn.microsoft.com/en-us/library/windows/hardware/8c3ab06c-0d5e-4b84-9013-f4da7f7d7bbc">http://msdn.microsoft.com/en-us/library/windows/hardware/8c3ab06c-0d5e-4b84-9013-f4da7f7d7bbc</b>


</conditional_block>

This automated test verifies remote replication between Storage Area Network (SAN) arrays.

## Test details

<table>
<colgroup>
<col width="50%" />
<col width="50%" />
</colgroup>
<tbody>
<tr class="odd">
<td><mark type="bullet_intro">Specifications</b></td>
<td><ul>
<li>System.Server.StorageManageability.Smapi.BlockStorage.RemoteReplication.BasicFunction</li>
</ul></td>
</tr>
<tr class="even">
<td><mark type="bullet_intro">Platforms</b></td>
<td><ul>
<li><tla rid="win_threshold_server"></tla> x64</li>
</ul></td>
</tr>
<tr class="odd">
<td><mark type="bullet_intro">Supported Releases</b></td>
<td><ul>
<li><tla rid="win_10_th2"></tla></li>
<li><tla rid="win_10_rs1"></tla></li>
<li>Windows 10, version 1703</li>
<li>Windows 10, version 1709</li>
</ul></td>
</tr>
<tr class="even">
<td><mark type="bullet_intro">Expected run time (in minutes)</b></td>
<td>2</td>
</tr>
<tr class="odd">
<td><mark type="bullet_intro">Category</b></td>
<td>Compatibility</td>
</tr>
<tr class="even">
<td><mark type="bullet_intro">Timeout (in minutes)</b></td>
<td>2</td>
</tr>
<tr class="odd">
<td><mark type="bullet_intro">Requires reboot</b></td>
<td>false</td>
</tr>
<tr class="even">
<td><mark type="bullet_intro">Requires special configuration</b></td>
<td>false</td>
</tr>
<tr class="odd">
<td><mark type="bullet_intro">Type</b></td>
<td>automatic</td>
</tr>
</tbody>
</table>

## Additional documentation

Tests in this feature area might have additional documentation, including prerequisites, setup, and troubleshooting information, that can be found in the following topic(s):

-   <xref rid="p_hlk_test.system_server_additional_documentation">System.Server additional documentation</b>

## Running the test

Before running the test, you'll need the following:

-   Hardware
    -   SAN arrays that support the SAN replication feature. One array acts as the primary site array, and the other as the recovery site array. The arrays can be managed by a single provider, or by two providers.
    -   Ethernet or Fibre Channel connectivity between the SAN arrays/providers and the host (HLK client computer).
-   Software
    -   The Windows Standards-Based Storage Management feature. If this package is not installed, the test will automatically install it. The HLK client computer requires internet connectivity for the package to be installed.

For this test, you must configure SAN arrays that have network connectivity to the HLK client computer.

These SAN arrays are not directly connected to the host. They connect to the host through a storage provider. A storage provider can provide connectivity to one or more arrays.

The SAN arrays should have the SAN remote replication feature capability. Ideally, there should be one array that performs the primary site role, and another array that performs the recovery site role.

There are two possible setup configurations for remote replication:

1.  The primary and recovery site arrays are managed by a single storage provider.
2.  The primary and recovery site arrays are managed by two storage providers, with each array connected to its primary site provider or recovery site provider.

This test requires a set of parameters to be passed before running the test. These parameters are specific to the SAN array and how it is connected to the host. As mentioned, there are two possible setup configurations. Provide the test parameters accordingly. The following section provides parameter details.

## Troubleshooting

For generic troubleshooting of HLK test failures, see <xref rid="p_hlk.troubleshooting_windows_hlk_test_failures">Troubleshooting Windows HLK Test Failures</b>.

A value of 0 indicates that the test was successful. A value of 1 indicates that the test failed. The HLK controller will capture this return code, and will show whether the HLK job passed or failed.

Review the test log files saved at TestDestFolder referenced in the parameter list on the HLK client computer, and fix the setup issue that is causing the test to fail.

## More information

## Parameters

| Parameter name                                         | Parameter description      |
|--------------------------------------------------------|----------------------------|
| <mark type="bullet_intro">PrimaryProviderName</b>      | Primary provider name      |
| <mark type="bullet_intro">PrimaryProviderURI</b>       | Primary Provider URI       |
| <mark type="bullet_intro">PrimaryProviderUsername</b>  | Primary Provider username  |
| <mark type="bullet_intro">PrimaryProviderPassword</b>  | Primary Provider Password  |
| <mark type="bullet_intro">PrimaryArrayName</b>         | Primary Array Name         |
| <mark type="bullet_intro">PrimaryPoolName</b>          | Primary Pool Name          |
| <mark type="bullet_intro">PrimaryRGPrefix</b>          | Primary RG Prefix          |
| <mark type="bullet_intro">PrimaryLUNPrefix</b>         | Primary LUN Prefix         |
| <mark type="bullet_intro">RecoveryProviderName</b>     | Recovery Provider Name     |
| <mark type="bullet_intro">RecoveryProviderURI</b>      | Recovery Provider URI      |
| <mark type="bullet_intro">RecoveryProviderUsername</b> | Recovery Provider Username |
| <mark type="bullet_intro">RecoveryProviderPassword</b> | Recovery Provider Password |
| <mark type="bullet_intro">RecoveryArrayName</b>        | Recovery Array Name        |
| <mark type="bullet_intro">RecoveryPoolName</b>         | Recovery Pool Name         |
| <mark type="bullet_intro">RecoveryRGPrefix</b>         | Recovery RG Prefix         |
| <mark type="bullet_intro">RecoveryLUNPrefix</b>        | Recovery LUN Prefix        |
| <mark type="bullet_intro">TestDestFolder</b>           | Test Destination Folder    |
| <mark type="bullet_intro">Manufacturer</b>             | Manufacturer name          |





