---
title: WIA Transfer Test
Description: WIA Transfer Test
ms.assetid: c4388a9c-49af-43ae-8460-e3054eccd58c
author: sapaetsc-msft
ms.author: sapaetsc
ms.date: 08/28/17
ms.topic: article
ms.prod: windows-hardware
ms.technology: windows-oem
---

# WIA Transfer Test

<conditional_block> <conditions> <docset value="standalone"></docset> </conditions>

>[!NOTE]
You can find the latest version of this test documentation on MSDN at the following link:

-   <xref hlink="http://msdn.microsoft.com/en-us/library/windows/hardware/c4388a9c-49af-43ae-8460-e3054eccd58c">http://msdn.microsoft.com/en-us/library/windows/hardware/c4388a9c-49af-43ae-8460-e3054eccd58c</b>


</conditional_block>

This manual test is initiated by the Windows® Image Acquisition (WIA) Data Transfer tool, which is an automated Windows Driver Kit tool for testing the behavior of WIA minidrivers that are related to data transfer.

The test tool verifies that a driver does not cause applications or the WIA service to crash or hang during data transfer. It also verifies that the correct behavior is implemented by the driver for different configurations, sequences of actions, and errors that may occur during transfer. This tool ensures that there is no ambiguity in the driver's behavior in these scenarios. This improves compatibility between all WIA drivers and WIA applications.

## Test details

<table>
<colgroup>
<col width="50%" />
<col width="50%" />
</colgroup>
<tbody>
<tr class="odd">
<td><mark type="bullet_intro">Specifications</b></td>
<td><ul>
<li>Device.Imaging.Scanner.Base.dataTransfer</li>
</ul></td>
</tr>
<tr class="even">
<td><mark type="bullet_intro">Platforms</b></td>
<td><ul>
<li><tla rid="win_threshold_desktop"></tla> x86</li>
<li><tla rid="win_threshold_desktop"></tla> x64</li>
<li><tla rid="win_threshold_server"></tla> x64</li>
<li><tla rid="win_threshold_desktop"></tla> ARM64</li>
</ul></td>
</tr>
<tr class="odd">
<td><mark type="bullet_intro">Supported Releases</b></td>
<td><ul>
<li><tla rid="win_10"></tla></li>
<li><tla rid="win_10_th2"></tla></li>
<li><tla rid="win_10_rs1"></tla></li>
<li>Windows 10, version 1703</li>
<li>Windows 10, version 1709</li>
</ul></td>
</tr>
<tr class="even">
<td><mark type="bullet_intro">Expected run time (in minutes)</b></td>
<td>2</td>
</tr>
<tr class="odd">
<td><mark type="bullet_intro">Category</b></td>
<td>Compatibility</td>
</tr>
<tr class="even">
<td><mark type="bullet_intro">Timeout (in minutes)</b></td>
<td>2</td>
</tr>
<tr class="odd">
<td><mark type="bullet_intro">Requires reboot</b></td>
<td>false</td>
</tr>
<tr class="even">
<td><mark type="bullet_intro">Requires special configuration</b></td>
<td>false</td>
</tr>
<tr class="odd">
<td><mark type="bullet_intro">Type</b></td>
<td>automatic</td>
</tr>
</tbody>
</table>

## Additional documentation

Tests in this feature area might have additional documentation, including prerequisites, setup, and troubleshooting information, that can be found in the following topic(s):

-   <xref rid="p_hlk_test.device_imaging_additional_documentation">Device.Imaging additional documentation</b>

## Running the test

Before you run the test, complete the test setup as described in the test requirements: <xref rid="p_hlk_test.scanner_testing_prerequisites">Scanner Testing Prerequisites</b>.

Before running this test the Wdk\\ConfigureScanner dimension must be added to the computer pool. To do add the dimension to the computer pool, complete the following steps:

1.  From the Windows Certification Test Kit Studio, open the Job Monitor.

2.  Select the computer pool containing the test computer that the test scanner is attached to.

3.  Right-click the computer pool to open the properties page, and then select the **MCU Policy** tab.

4.  From the available dimension list select **Wdk\\ConfigureScanner**, add it to the machine pool and then click **Ok**.

In addition, if your device supports automatic document feeding, this test requires the following:

-   Enough paper in the feeder (usually about 50 pages).

## Troubleshooting

For generic troubleshooting of HLK test failures, see <xref rid="p_hlk.troubleshooting_windows_hlk_test_failures">Troubleshooting Windows HLK Test Failures</b>.

For troubleshooting information, see <xref rid="p_hlk_test.troubleshooting_deviceimaging_testing">Troubleshooting Device.Imaging Testing</b>

For test failures, search for the term “+sev” in the log.

The test executable supports verbose logging. Use the /verboselog:1 command-line option when running the test to enable verbose logging. Detailed logging is recorded in a WTT log file.

## More information

The WIA Data Transfer tool runs either from the WDK or from the command line. It logs results to the console and to a WTT log file, and can be configured to log at two different levels of verbosity. By default, it runs all test cases but individual test cases can be specified as well.

WIA 2.0 is a requirement for the test to pass in Windows 7 and Windows 2008 R2. WIA 2.0 is not a requirement for Windows Vista

To set up this tool manually, follow these steps:

1.  Install the WIA device to be tested.

2.  Register WiaTestLog.dll using RegSvr32

3.  Run the WiaTransfer Tool from a command prompt.

>[!NOTE]
WIA tests may fail if you do not use the WIA Friendly name. To resolve this, follow these steps:


1.  Restart the Windows HLK Client and wait for it to log in.

2.  Close the Device Console.

3.  Re-open the submission.

This will ensure that the gatherer data is in-sync and that the friendly name is populated.

If the steps above do not work, please work with your driver developer to make sure that the INF is referencing the driver correctly.

## Parameters

| Parameter name                                     | Parameter description |
|----------------------------------------------------|-----------------------|
| <mark type="bullet_intro">LLU\_LclAdmin.DomUsr</b> | LLU\_LclAdmin.DomUsr  |
| <mark type="bullet_intro">LLU\_NetAccessOnly</b>   | LLU\_NetAccessOnly    |





