---
title: File Storage SMAPI Test
Description: File Storage SMAPI Test
ms.assetid: 2fb36da1-50c4-4cd4-a263-5f2cb03131ab
author: sapaetsc-msft
ms.author: sapaetsc
ms.date: 08/28/17
ms.topic: article
ms.prod: windows-hardware
ms.technology: windows-oem
---

# File Storage SMAPI Test

<conditional_block> <conditions> <docset value="standalone"></docset> </conditions>

>[!NOTE]
You can find the latest version of this test documentation on MSDN at the following link:

-   <xref hlink="http://msdn.microsoft.com/en-us/library/windows/hardware/2fb36da1-50c4-4cd4-a263-5f2cb03131ab">http://msdn.microsoft.com/en-us/library/windows/hardware/2fb36da1-50c4-4cd4-a263-5f2cb03131ab</b>


</conditional_block>

This automated test verifies file storage management on a Network Attached Storage (NAS) device. It does this by testing Storage Management API (SMAPI) connectivity from the NAS device to the HLK client computer through an SMI-S storage provider.

## Test details

<table>
<colgroup>
<col width="50%" />
<col width="50%" />
</colgroup>
<tbody>
<tr class="odd">
<td><mark type="bullet_intro">Specifications</b></td>
<td><ul>
<li>System.Server.StorageManageability.Smapi.FileStorage.BasicFunction</li>
</ul></td>
</tr>
<tr class="even">
<td><mark type="bullet_intro">Platforms</b></td>
<td><ul>
<li><tla rid="win_threshold_server"></tla> x64</li>
</ul></td>
</tr>
<tr class="odd">
<td><mark type="bullet_intro">Supported Releases</b></td>
<td><ul>
<li><tla rid="win_10_th2"></tla></li>
<li><tla rid="win_10_rs1"></tla></li>
<li>Windows 10, version 1703</li>
<li>Windows 10, version 1709</li>
</ul></td>
</tr>
<tr class="even">
<td><mark type="bullet_intro">Expected run time (in minutes)</b></td>
<td>2</td>
</tr>
<tr class="odd">
<td><mark type="bullet_intro">Category</b></td>
<td>Compatibility</td>
</tr>
<tr class="even">
<td><mark type="bullet_intro">Timeout (in minutes)</b></td>
<td>2</td>
</tr>
<tr class="odd">
<td><mark type="bullet_intro">Requires reboot</b></td>
<td>false</td>
</tr>
<tr class="even">
<td><mark type="bullet_intro">Requires special configuration</b></td>
<td>false</td>
</tr>
<tr class="odd">
<td><mark type="bullet_intro">Type</b></td>
<td>automatic</td>
</tr>
</tbody>
</table>

## Additional documentation

Tests in this feature area might have additional documentation, including prerequisites, setup, and troubleshooting information, that can be found in the following topic(s):

-   <xref rid="p_hlk_test.system_server_additional_documentation">System.Server additional documentation</b>

## Running the test

Before running the test, you'll need the following:

-   Hardware
    -   A Network Attached Storage (NAS) array and its provider.
    -   Ethernet connectivity between the NAS array/provider and the host (HLK client computer).
-   Software
    -   The Windows Standards-Based Storage Management feature. If this package is not installed, the test will automatically install it. The HLK client computer requires internet connectivity for the package to be installed.

For this test, you must configure a NAS array that has network connectivity to the HLK client computer.

These NAS arrays are not directly connected to a host. They connect to the host through a storage provider. A storage provider can provide connectivity to one of more storage arrays.

The test requires a set of parameters to be passed before running the test. These parameters are specific to the NAS array and how it is connected to the host.

## Troubleshooting

For generic troubleshooting of HLK test failures, see <xref rid="p_hlk.troubleshooting_windows_hlk_test_failures">Troubleshooting Windows HLK Test Failures</b>.

A value of 0 indicates that the test was successful. A value of 1 indicates that the test failed. The HLK controller will capture this return code, and will show whether the HLK job passed or failed.

Review the test log files saved at TestDestFolder referenced in the parameter list on the HLK client computer, and fix the setup issue that is causing the test to fail.

## More information

## Parameters

| Parameter name                                        | Parameter description      |
|-------------------------------------------------------|----------------------------|
| <mark type="bullet_intro">ProviderName</b>            | Name of the provider       |
| <mark type="bullet_intro">ProviderType</b>            | Type of the provider       |
| <mark type="bullet_intro">ProviderUserName</b>        | Provider User Name         |
| <mark type="bullet_intro">ProviderPassword</b>        | Provider Password          |
| <mark type="bullet_intro">NetName</b>                 | Provider URI               |
| <mark type="bullet_intro">Port</b>                    | Port Number                |
| <mark type="bullet_intro">PoolName</b>                | Name of pool               |
| <mark type="bullet_intro">ArrayName</b>               | Name of array              |
| <mark type="bullet_intro">OutputCSVFile</b>           | Output CSV File name       |
| <mark type="bullet_intro">objectPrefix</b>            | Object Prefix              |
| <mark type="bullet_intro">VolumeSize</b>              | Volume size in bytes       |
| <mark type="bullet_intro">DomainUserName</b>          | Domain User Name           |
| <mark type="bullet_intro">AlternateDomainUserName</b> | Alternate Domain user name |
| <mark type="bullet_intro">TestDestFolder</b>          | Test Destination Folder    |





