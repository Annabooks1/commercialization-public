---
title: GDL Correctness Test
Description: GDL Correctness Test
ms.assetid: 1a80050a-4e09-40e0-b903-658bf0ae9d89
author: sapaetsc-msft
ms.author: sapaetsc
ms.date: 08/28/17
ms.topic: article
ms.prod: windows-hardware
ms.technology: windows-oem
---

# GDL Correctness Test

<conditional_block> <conditions> <docset value="standalone"></docset> </conditions>

>[!NOTE]
You can find the latest version of this test documentation on MSDN at the following link:

-   <xref hlink="http://msdn.microsoft.com/en-us/library/windows/hardware/1a80050a-4e09-40e0-b903-658bf0ae9d89">http://msdn.microsoft.com/en-us/library/windows/hardware/1a80050a-4e09-40e0-b903-658bf0ae9d89</b>


</conditional_block>

This automated test is run by the GDLCheck tool. The tool performs a generic description language (GDL) syntax check that parses and loads GDL files, specifies configurations, obtains XML snapshots, and looks for syntax errors.

## Test details

<table>
<colgroup>
<col width="50%" />
<col width="50%" />
</colgroup>
<tbody>
<tr class="odd">
<td><mark type="bullet_intro">Specifications</b></td>
<td><ul>
<li>Device.Imaging.Printer.Base.GDLFile</li>
<li>Device.Imaging.3DPrinter.Base.GDLFile</li>
</ul></td>
</tr>
<tr class="even">
<td><mark type="bullet_intro">Platforms</b></td>
<td><ul>
<li><tla rid="win_threshold_desktop"></tla> x86</li>
<li><tla rid="win_threshold_desktop"></tla> x64</li>
<li><tla rid="win_threshold_server"></tla> x64</li>
<li><tla rid="win_threshold_desktop"></tla> ARM64</li>
</ul></td>
</tr>
<tr class="odd">
<td><mark type="bullet_intro">Supported Releases</b></td>
<td><ul>
<li><tla rid="win_10"></tla></li>
<li><tla rid="win_10_th2"></tla></li>
<li><tla rid="win_10_rs1"></tla></li>
<li>Windows 10, version 1703</li>
<li>Windows 10, version 1709</li>
</ul></td>
</tr>
<tr class="even">
<td><mark type="bullet_intro">Expected run time (in minutes)</b></td>
<td>2</td>
</tr>
<tr class="odd">
<td><mark type="bullet_intro">Category</b></td>
<td>Scenario</td>
</tr>
<tr class="even">
<td><mark type="bullet_intro">Timeout (in minutes)</b></td>
<td>2</td>
</tr>
<tr class="odd">
<td><mark type="bullet_intro">Requires reboot</b></td>
<td>false</td>
</tr>
<tr class="even">
<td><mark type="bullet_intro">Requires special configuration</b></td>
<td>false</td>
</tr>
<tr class="odd">
<td><mark type="bullet_intro">Type</b></td>
<td>automatic</td>
</tr>
</tbody>
</table>

## Additional documentation

Tests in this feature area might have additional documentation, including prerequisites, setup, and troubleshooting information, that can be found in the following topic(s):

-   <xref rid="p_hlk_test.device_imaging_additional_documentation">Device.Imaging additional documentation</b>

## Running the test

Before you run the test, complete the test setup as described in the test requirements: <xref rid="p_hlk_test.printer_testing_prerequisites">Printer Testing Prerequisites</b>.

## Troubleshooting

For generic troubleshooting of HLK test failures, see <xref rid="p_hlk.troubleshooting_windows_hlk_test_failures">Troubleshooting Windows HLK Test Failures</b>.

For troubleshooting information, see <xref rid="p_hlk_test.troubleshooting_deviceimaging_testing">Troubleshooting Device.Imaging Testing</b>.

## More information

This test sends all parsing errors and debug output to Gdlcheck.xml. The test processes command-line arguments from left to right. Each argument is separated from the next with a space character. You must specify all options before you specify the GDL root file name.

You can run this test tool from the Microsoft® Windows® Driver Kit (WDK) or by itself from the command prompt. This tool logs results to a Windows Test Technologies (WTT) log file. You can configure the tool to log information at different verbosity levels. The tool requires the root generic printer description (GPD) or GDL file that you want to validate and any other GPD or GDL files that the root file references.

GDLCheck writes all debug output to the GDLCheck.xml file.

The syntax for this tool is as follows:

<example>
`GDLCheck.exe [-Verbosity=n], where n is a number from 0 to 4 specifying the verbosity level of parser messages. Verbosity 4 is the most verbose and Verbosity 0 is the least verbose. [-Personality[=persona]] Generate Personality Aware snapshot. (To enable all personalities, use -Personality alone.) [-DisplaySynthesizedFeatures] [-GenerateSchema] (GDLschema.xsd) for XML snapshot. [-DoNotGenerateXMLSnapshot] [-DisplayOnlyStickyFeatures] [-DisplayValidatedConfiguration] [-ParserContext=n] where n is a number from 0 to 9. Initial context is 0. [-PrefaceFile=<full path to file that holds Preface>] [-DeviceConfiguration[=Feature1.Option1[:Feature2.Option2[:Feature3.Option3...]]] [-DocumentConfiguration[=Feature1.Option1[:Feature2.Option2[:Feature3.Option3...]]] (Always generates XML Snapshot.) <-PrinterName=<name of an installed printer> | GDL root file path1 [GDL root file path2...]> [-?] Display this message.`

</example>
The following list describes some example GDLCheck commands:

-   **GDLCheck.exe -DisplayValidatedConfiguration -DeviceConfiguration -DocumentConfiguration basic.gdl**

    This command produces an XML snapshot in the GDLsnapshot.xml file by using the default device and document configurations. The basic.gdl file implements the basic features that you need to satisfy the root construct productions that the stdschem.gdl file defines. The following debug output shows an example of what occurs if you specify the **-DisplayValidatedConfiguration** option.

    <example>
    `==== Validated Configuration ====PaperSize:LETTERResolution:Option1RESDLL:UniresDLLInputBin:UPPERIf you execute the same command with hplj5si.gdl (instead of basic.gdl), you will see the following debug output.==== Validated Configuration ====Memory:4096KBPrinterHardDisk:FALSEDuplexUnit:InstalledPageProtect:OFF==== Validated Configuration ====Memory:4096KBPrinterHardDisk:FALSEDuplexUnit:InstalledPageProtect:OFFPaperSize:LETTEROrientation:PORTRAITDuplex:NONEResolution:Option1Halftone:HT_PATSIZE_AUTORESDLL:UniresDLLOutputBin:Option1Collate:OFFStapling:Option1InputBin:Option1`

    </example>
-   **GDLCheck.exe -GenerateSchema -DoNotGenerateXmlSnapshot basic.gdl**

    This command produces the schema for the XML snapshot but not the snapshot itself. You can find the schema in the GDLschema.xsd file. This command shows the **-GenerateSchema** option and the **-DoNotGenerateXmlSnapshot** option. This option turns off snapshot creation. By default, Gdlcheck produces the XML snapshot unless you specify the **-DoNotGenerateXmlSnapshot** option.

-   **GDLCheck.exe -PrefaceFile=preface.gdl -DisplayValidatedConfiguration -DeviceConfiguration -DocumentConfiguration basic.gdl**

    This command shows how to use the **-PrefaceFile** option in Gdlcheck to specify a preface file. To perform this test, comment out or remove the "\*Include: "stdschmx.gdl" line from the basic.gdl file because the preface.gdl file already includes this line. The result of running this command is the same as the result for the first example command.

-   **GDLCheck.exe -DisplaySynthesizedFeatures -DoNotGenerateXmlSnapshot synfea.gdl**

    This command shows how to use the **-DisplaySynthesizedFeatures** option to verify the creation of synthesized features. The following debug output shows an example of what occurs if you run this command. Note that because this command does not use the **-DoNotGenerateXmlSnapshot** option, the test does not create the XML snapshot.

    <example>
    `=== Begin Contents of Synthesized Features Buffer ===*Feature: SynFea_InputBinENVFEED{*FeatureType: SYNTHESIZED_PROPERTY*Name: "Optional Envelope Feeder"*Option: NotInstalled{*Name: "Not installed"*Constraints: InputBin.ENVFEED}*Option: Installed{*Name: "Installed"}}=== End Contents of Synthesized Features Buffer ===`

    </example>
    Note that you do not have to use the **-DoNotGenerateXmlSnapshot** option if you want to use the **-DisplaySynthesizedFeatures** option. You can also use the following command:

    **GDLCheck.exe -DisplaySynthesizedFeatures -DisplayValidatedConfiguration -DeviceConfiguration -DocumentConfiguration synfea.gdl**

    This command produces the following debug output:

    <example>
    `=== Begin Contents of Synthesized Features Buffer ===*Feature: SynFea_InputBinENVFEED{*FeatureType: SYNTHESIZED_PROPERTY*Name: "Optional Envelope Feeder"*Option: NotInstalled{*Name: "Not installed"*Constraints: InputBin.ENVFEED}*Option: Installed{*Name: "Installed"}}=== End Contents of Synthesized Features Buffer ======= Validated Configuration ====SynFea_InputBinENVFEED:NotInstalled==== Validated Configuration ====SynFea_InputBinENVFEED:NotInstalledPaperSize:LETTERResolution:Option1RESDLL:UniresDLLInputBin:UPPER`

    </example>
-   **GDLCheck.exe -DisplayValidatedConfiguration -DeviceConfigurationMemory.8192KB:PrinterHardDisk.TRUE -cOrientation.LANDSCAPE\_CC90:Resolution.Option2:PaperSize.LEGAL hplj5si.gdl**

    This command shows how to use the **-DeviceConfiguration** and **-DocumentConfiguration** options to define your own device and document configurations. The following debug output shows an example of what you might see when you run this command.

    <example>
    `==== Validated Configuration ====Memory:8192KBPrinterHardDisk:TRUEDuplexUnit:InstalledPageProtect:OFF==== Validated Configuration ====Memory:8192KBPrinterHardDisk:TRUEDuplexUnit:InstalledPageProtect:OFFPaperSize:LEGALOrientation:LANDSCAPE_CC90Duplex:NONEResolution:Option2Halftone:HT_PATSIZE_AUTORESDLL:UniresDLLOutputBin:Option1Collate:OFFStapling:Option1InputBin:Option1 `

    </example>
-   You can use the **-ParserContext** argument in GDLCheck to validate more than one root GDL file within a single execution of GDLCheck. The following is the syntax for this command:

    **GDLCheck.exe -Preface=c:\\test\\preface.gdl -DisplayValidatedConfiguration -DeviceConfiguration -DocumentConfiguration c:\\test\\basic.gdl -ParserContext=1 -Preface=c:\\test\\preface.gdl -DisplayValidatedConfiguration -Verbosity=1 -Personality=Persona1 -GenerateSchema -DeviceConfiguration -DocumentConfiguration c:\\test\\personatest.gdl**

    This example also shows how to use the **-Personality** option to specify a personality for the generation of the personality-aware XML snapshot.

## Parameters

| Parameter name                                     | Parameter description                    |
|----------------------------------------------------|------------------------------------------|
| <mark type="bullet_intro">CommandStringOptions</b> | Command arguments.                       |
| <mark type="bullet_intro">LLU\_LAU</b>             | Logical Local User.                      |
| <mark type="bullet_intro">LLU\_NetAccessOnly</b>   | Logical Local User: Network Access only. |
| <mark type="bullet_intro">TestExecutableName</b>   | Test Executable name.                    |
| <mark type="bullet_intro">WDKPrinterName</b>       | Printer name.                            |





