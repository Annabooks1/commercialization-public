---
title: UEFI GOP mode test
Description: UEFI GOP mode test
ms.assetid: 99808be0-1519-438e-ba3b-e29ac2de7ef5
author: sapaetsc-msft
ms.author: sapaetsc
ms.date: 08/28/17
ms.topic: article
ms.prod: windows-hardware
ms.technology: windows-oem
---

# UEFI GOP mode test

<conditional_block> <conditions> <docset value="standalone"></docset> </conditions>

>[!NOTE]
You can find the latest version of this test documentation on MSDN at the following link:

-   <xref hlink="http://msdn.microsoft.com/en-us/library/windows/hardware/99808be0-1519-438e-ba3b-e29ac2de7ef5">http://msdn.microsoft.com/en-us/library/windows/hardware/99808be0-1519-438e-ba3b-e29ac2de7ef5</b>


</conditional_block>

This automated test verifies that a system implements the Graphics Output Protocol (GOP) mode protocol in accordance with the Windows HLK requirements.

## Test details

<table>
<colgroup>
<col width="50%" />
<col width="50%" />
</colgroup>
<tbody>
<tr class="odd">
<td><mark type="bullet_intro">Specifications</b></td>
<td><ul>
<li>System.Client.Firmware.UEFI.GOP.Display</li>
<li>System.Server.Firmware.UEFI.GOP.Display</li>
</ul></td>
</tr>
<tr class="even">
<td><mark type="bullet_intro">Platforms</b></td>
<td><ul>
<li><tla rid="win_threshold_desktop"></tla> x86</li>
<li><tla rid="win_threshold_desktop"></tla> x64</li>
<li><tla rid="win_threshold_server"></tla> x64</li>
<li><tla rid="win_threshold_desktop"></tla> ARM64</li>
</ul></td>
</tr>
<tr class="odd">
<td><mark type="bullet_intro">Supported Releases</b></td>
<td><ul>
<li><tla rid="win_10"></tla></li>
<li><tla rid="win_10_th2"></tla></li>
<li><tla rid="win_10_rs1"></tla></li>
<li>Windows 10, version 1703</li>
<li>Windows 10, version 1709</li>
</ul></td>
</tr>
<tr class="even">
<td><mark type="bullet_intro">Expected run time (in minutes)</b></td>
<td>2</td>
</tr>
<tr class="odd">
<td><mark type="bullet_intro">Category</b></td>
<td>Compatibility</td>
</tr>
<tr class="even">
<td><mark type="bullet_intro">Timeout (in minutes)</b></td>
<td>2</td>
</tr>
<tr class="odd">
<td><mark type="bullet_intro">Requires reboot</b></td>
<td>false</td>
</tr>
<tr class="even">
<td><mark type="bullet_intro">Requires special configuration</b></td>
<td>false</td>
</tr>
<tr class="odd">
<td><mark type="bullet_intro">Type</b></td>
<td>automatic</td>
</tr>
</tbody>
</table>

## Additional documentation

Tests in this feature area might have additional documentation, including prerequisites, setup, and troubleshooting information, that can be found in the following topic(s):

-   <xref rid="p_hlk_test.system_client_additional_documentation">System.Client additional documentation</b>
-   <xref rid="p_hlk_test.system_server_additional_documentation">System.Server additional documentation</b>

## Running the test

Before you run the test, complete the test setup as described in the test requirements: <xref rid="p_hlk_test.wdtf_system_fundamentals_testing_prerequisites">WDTF System Fundamentals Testing Prerequisites</b>.

The system should have Secure Boot turned off in order to run the pre-operating system application, or have a compatible feature for running Microsoft test-signed binaries.

## Troubleshooting

For generic troubleshooting of HLK test failures, see <xref rid="p_hlk.troubleshooting_windows_hlk_test_failures">Troubleshooting Windows HLK Test Failures</b>.

For troubleshooting information, see <xref rid="p_hlk_test.troubleshooting_system_client_testing">Troubleshooting System Client Testing</b>.

## More information

**Mode selection**

1.  Once UEFI has determined which display is enabled to display the pre-operating system screen, it must select the mode to apply based on the following logic:

    1.  System with an Integrated display (laptop, all in one, tablet): The display must always be set to its native resolution and native timing.

    2.  System without an Integrated display (desktop):

        1.  UEFI must attempt to set the native resolution and timing of the display by obtaining it from the EDID.

        2.  If that is not supported, UEFI must select an alternate mode that matches the same aspect ratio as the native resolution of the display.

        3.  At the minimum, UEFI must set a mode of 1024 x 768.

        4.  If the display device does not provide an EDID, UEFI must set a mode of 1024 x 768.

    3.  The firmware must always use a 32 bit linear frame buffer to display the pre-operating system screen.

    4.  PixelsPerScanLine must be equal to the HorizontalResolution.

    5.  PixelFormat must be PixelBlueGreenRedReserved8BitPerColor. A physical frame buffer is required. PixelBltOnly is not supported.

## Parameters

| Parameter name                                     | Parameter description |
|----------------------------------------------------|-----------------------|
| <mark type="bullet_intro">LLU\_NetAccessOnly</b>   |                       |
| <mark type="bullet_intro">SOURCE\_PATH</b>         |                       |
| <mark type="bullet_intro">LLU\_LclAdmin.DomUsr</b> |                       |





