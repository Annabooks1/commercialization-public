---
title: NDISTest 6.5 - [2 Machine] - QosStorageInterop
Description: NDISTest 6.5 - [2 Machine] - QosStorageInterop
ms.assetid: 341f3e68-6b67-4dd8-a59f-1173815f4f50
author: sapaetsc-msft
ms.author: sapaetsc
ms.date: 08/28/17
ms.topic: article
ms.prod: windows-hardware
ms.technology: windows-oem
---

# NDISTest 6.5 - [2 Machine] - QosStorageInterop

<conditional_block> <conditions> <docset value="standalone"></docset> </conditions>

>[!NOTE]
You can find the latest version of this test documentation on MSDN at the following link:

-   <xref hlink="http://msdn.microsoft.com/en-us/library/windows/hardware/341f3e68-6b67-4dd8-a59f-1173815f4f50">http://msdn.microsoft.com/en-us/library/windows/hardware/341f3e68-6b67-4dd8-a59f-1173815f4f50</b>


</conditional_block>

The DUT must have a QoS-capable CNA adapter and the willing-bit should be turned off. The SUT must have a network adapter capable of working at DUT's line rate. A ISCSI drive should be configured to work over the CNA over either ISCSI connection offered by the CAN or an SMB share should be configured and mounted on drive for testing a NetworkDirect-capable network adapter. No more than one SMB share should be configured on the test machine to ensure no false failures. Test cases are as follows:

-   Network Traffic ETS Enforcement ensures that CNA does not throttle any network traffic flow when the network traffic class is configured at the traffic rate observed when ETS is disabled.

-   Storage Traffic ETS Enforcement ensures that CNA does not throttle any storage traffic flow when the storage traffic class is configured at the traffic rate observed when ETS is disabled.

-   1:1 Network:Storage -- Traffic Distribution of oversubscribed bandwidth ensures that CNA is able to evenly distribute network and storage traffic overload.

-   2:1 Network:Storage -- Traffic Distribution of oversubscribed bandwidth ensures that CNA is able to prioritize network traffic over storage traffic at a ratio of 2:1.

## Test details

<table>
<colgroup>
<col width="50%" />
<col width="50%" />
</colgroup>
<tbody>
<tr class="odd">
<td><mark type="bullet_intro">Specifications</b></td>
<td><ul>
<li>Device.Network.LAN.DCB.DCB</li>
</ul></td>
</tr>
<tr class="even">
<td><mark type="bullet_intro">Platforms</b></td>
<td><ul>
<li><tla rid="win_threshold_server"></tla> x64</li>
</ul></td>
</tr>
<tr class="odd">
<td><mark type="bullet_intro">Supported Releases</b></td>
<td><ul>
<li><tla rid="win_10"></tla></li>
<li><tla rid="win_10_th2"></tla></li>
<li><tla rid="win_10_rs1"></tla></li>
<li>Windows 10, version 1703</li>
<li>Windows 10, version 1709</li>
</ul></td>
</tr>
<tr class="even">
<td><mark type="bullet_intro">Expected run time (in minutes)</b></td>
<td>10</td>
</tr>
<tr class="odd">
<td><mark type="bullet_intro">Category</b></td>
<td>Development</td>
</tr>
<tr class="even">
<td><mark type="bullet_intro">Timeout (in minutes)</b></td>
<td>10</td>
</tr>
<tr class="odd">
<td><mark type="bullet_intro">Requires reboot</b></td>
<td>false</td>
</tr>
<tr class="even">
<td><mark type="bullet_intro">Requires special configuration</b></td>
<td>false</td>
</tr>
<tr class="odd">
<td><mark type="bullet_intro">Type</b></td>
<td>automatic</td>
</tr>
</tbody>
</table>

## Additional documentation

Tests in this feature area might have additional documentation, including prerequisites, setup, and troubleshooting information, that can be found in the following topic(s):

-   <xref rid="p_hlk_test.device_network_additional_documentation">Device.Network additional documentation</b>

## Running the test

Before you run the test, complete the test setup as described in the test requirements: <xref rid="p_hlk_test.lan_testing_prerequisites">LAN Testing Prerequisites</b>.

## Troubleshooting

For generic troubleshooting of HLK test failures, see <xref rid="p_hlk.troubleshooting_windows_hlk_test_failures">Troubleshooting Windows HLK Test Failures</b>.

For troubleshooting information, see <xref rid="p_hlk_test.troubleshooting_lan_testing">Troubleshooting LAN Testing</b>.

## More information

## Parameters

| Parameter name                                                    | Parameter description                                                                           |
|-------------------------------------------------------------------|-------------------------------------------------------------------------------------------------|
| <mark type="bullet_intro">queryTestDeviceID</b>                   |                                                                                                 |
| <mark type="bullet_intro">SupportDeviceGuid0</b>                  |                                                                                                 |
| <mark type="bullet_intro">ClientMessageDeviceGuid</b>             |                                                                                                 |
| <mark type="bullet_intro">ServerMessageDeviceGuid</b>             |                                                                                                 |
| <mark type="bullet_intro">TestScript</b>                          | comma separated list of test jobs to run                                                        |
| <mark type="bullet_intro">ParamStorageDrive</b>                   | Single Character Drive-letter \[mandatory parameter\]                                           |
| <mark type="bullet_intro">ParamStorageConnectionMode</b>          | Storage-connection mode, supported modes are 'ISCSI' and 'ND' \[mandatory parameter\]           |
| <mark type="bullet_intro">ParamNetworkTrafficGeneratorThreads</b> | Number of traffic-streams (threads) created by Network traffic generator \[optional parameter\] |





