---
title: CiB Raid Controller Kit Tests
Description: CiB Raid Controller Kit Tests
ms.assetid: 68cadac4-f5da-43af-9165-2cacd1f7f93e
author: sapaetsc-msft
ms.author: sapaetsc
ms.date: 08/28/17
ms.topic: article
ms.prod: windows-hardware
ms.technology: windows-oem
---

# CiB Raid Controller Kit Tests

<conditional_block> <conditions> <docset value="standalone"></docset> </conditions>

>[!NOTE]
You can find the latest version of this test documentation on MSDN at the following link:

-   <xref hlink="http://msdn.microsoft.com/en-us/library/windows/hardware/68cadac4-f5da-43af-9165-2cacd1f7f93e">http://msdn.microsoft.com/en-us/library/windows/hardware/68cadac4-f5da-43af-9165-2cacd1f7f93e</b>


</conditional_block>

The tests help validate that a Continuously Available (CA) storage controller and drivers meet all applicable requirements. The tests conduct various end-to-end test scenarios by running I/O workloads, data integrity tests against the cluster during a planned or unplanned failover, and validates that the hardware platform under test meets CA hardware requirements.

## Test details

<table>
<colgroup>
<col width="50%" />
<col width="50%" />
</colgroup>
<tbody>
<tr class="odd">
<td><mark type="bullet_intro">Specifications</b></td>
<td><ul>
<li>Device.Storage.Controller.Raid.ContinuousAvailability.ActiveMode</li>
<li>Device.Storage.Controller.Raid.ContinuousAvailability.FailoverClustering</li>
<li>Device.Storage.Controller.Raid.ContinuousAvailability.LunAccess</li>
<li>Device.Storage.Controller.Raid.ContinuousAvailability.RAID</li>
<li>Device.Storage.Controller.Raid.ContinuousAvailability.RecoveryProcessing</li>
</ul></td>
</tr>
<tr class="even">
<td><mark type="bullet_intro">Platforms</b></td>
<td><ul>
<li><tla rid="win_threshold_server"></tla> x64</li>
</ul></td>
</tr>
<tr class="odd">
<td><mark type="bullet_intro">Supported Releases</b></td>
<td><ul>
<li><tla rid="win_10"></tla></li>
<li><tla rid="win_10_th2"></tla></li>
<li><tla rid="win_10_rs1"></tla></li>
<li>Windows 10, version 1703</li>
<li>Windows 10, version 1709</li>
</ul></td>
</tr>
<tr class="even">
<td><mark type="bullet_intro">Expected run time (in minutes)</b></td>
<td>270</td>
</tr>
<tr class="odd">
<td><mark type="bullet_intro">Category</b></td>
<td>Scenario</td>
</tr>
<tr class="even">
<td><mark type="bullet_intro">Timeout (in minutes)</b></td>
<td>270</td>
</tr>
<tr class="odd">
<td><mark type="bullet_intro">Requires reboot</b></td>
<td>false</td>
</tr>
<tr class="even">
<td><mark type="bullet_intro">Requires special configuration</b></td>
<td>true</td>
</tr>
<tr class="odd">
<td><mark type="bullet_intro">Type</b></td>
<td>automatic</td>
</tr>
</tbody>
</table>

## Additional documentation

Tests in this feature area might have additional documentation, including prerequisites, setup, and troubleshooting information, that can be found in the following topic(s):

-   <xref rid="p_hlk_test.device_storage_additional_documentation">Device.Storage additional documentation</b>

## Running the test

Before you run the test, complete the test setup as described in the test requirements for the type of storage controller that you are testing: <xref rid="p_hlk_test.storage_adapter_or_controller_testing_overview">Storage Adapter or Controller Testing Overview</b>.

## Hardware requirements

The following network requirements on the cluster nodes and the test controller machine must be met:

-   A minimum of two 1-Gigabit Ethernet adapters plus a private network for cluster communications.

-   We recommend one 10Gigabit Ethernet adapter.

-   All cluster nodes must have IP addresses that are provided by DHCP.

-   DNS resolution for all cluster nodes and the test controller machine.

The following requirements on cluster nodes must be met:

-   The cluster nodes must meet the Failover Clustering hardware requirements for Windows Server 10.

-   The cluster nodes must meet the hardware requirements for Windows Server 10.

-   The cluster nodes must have approximately 100 GB of free space on the local hard drive.

The following requirements on the test controller machine must be met:

-   The test controller must meet the hardware requirements for Windows Server 10.

-   The test controller must have approximately 100 GB of free space on the local hard drive.

-   The test controller must have at least 32 GB of memory.

-   We recommend that the test controller have at least two quad core processors.

The following shared storage requirements for cluster nodes must be met:

-   Must have at least 22 shared LUNs.

-   Must have a minimum LUN size of 1 GB.

-   Must be using either RAID1, RAID5, RAID6, or RAID10.

-   All LUNs must be visible on all cluster nodes.

-   All LUNs must be initialized and formatted as NTFS volumes with appropriate drive letters.

## Software requirements

The following Active Directory Domain Services requirements must be met:

-   All machines must be joined to the same domain.

-   You must have logged in as a member of the Domain Admins security group on the test controller machine.

The following operating system requirements must be met:

-   The test controller must be running Windows Server 10.

-   The cluster nodes must be running Windows Server 10.

-   Support for Clustered Windows Servers that use clustered RAID controllers must be enabled on each cluster node. For more information, see <xref hlink="http://go.microsoft.com/fwlink/?LinkID=308969">Enable Support for Clustered Windows Servers using clustered RAID controllers</b>

1.  Open Windows HLK Studio.

2.  Create a project.

3.  In Device Manager, select your raid controller from the test pool.

4.  Right-click each selected target. Click **Add new features**, select **Device.Storage.Controller.Raid.ContinuousAvailability**, and then click **OK**.

5.  Click the **Tests** tab, select **CiB Raid Controller Test**, and click **Run Selected**. Assign *TestController* to the test controller machine.

6.  Assign the remaining node to the remaining machine.

7.  In the parameters, set the domain name, username, password, and cluster name.

    >[!NOTE]
    Cluster name cannot exceed 9 characters. If running the test multiple times, please use a different cluster name for each test run.

    
8.  Click **OK** to schedule the test.

## Troubleshooting

For generic troubleshooting of HLK test failures, see <xref rid="p_hlk.troubleshooting_windows_hlk_test_failures">Troubleshooting Windows HLK Test Failures</b>.

For troubleshooting information, see <xref rid="p_hlk_test.troubleshooting_devicestorage_testing">Troubleshooting Device.Storage Testing</b>.

An error similar to “Cluster failure: test case \#\#\# failure” indicates that the cluster has not properly configured. Make sure that your shared disks are initialized and formatted as NTFS volumes to ensure a cluster can be formed and that no clusters or resource groups exist with the name specified in the cluster parameter.

If failures are found, you can review the logs to get additional details about the failures in HLK Studio under Results page:

-   CiB Raid Controller Kit Tests-&gt;Run Eval Quality tests-&gt;Logs-&gt;te.wtl
-   CiB Raid Controller Kit Tests-&gt;Run Raid Controller tests-&gt;Logs-&gt;te.wtl

## More information

## Parameters

| Parameter name                                     | Parameter description                                        |
|----------------------------------------------------|--------------------------------------------------------------|
| <mark type="bullet_intro">CiBTestBin</b>           | test binary location                                         |
| <mark type="bullet_intro">AutomatedOnly</b>        | Specify true if this test should not run any manual tests    |
| <mark type="bullet_intro">ReplaceNodeNames.ps1</b> |                                                              |
| <mark type="bullet_intro">PATHTOXML</b>            |                                                              |
| <mark type="bullet_intro">CONFIGFILENAME</b>       | Name of the config XML file                                  |
| <mark type="bullet_intro">NODE1</b>                | The first node in the cluster                                |
| <mark type="bullet_intro">NODE2</b>                | The second node in the cluster                               |
| <mark type="bullet_intro">Domain</b>               | The name of the domain to which the cluster nodes are joined |
| <mark type="bullet_intro">UserName</b>             | The user name of a user in the Domain Admins security group  |
| <mark type="bullet_intro">Password</b>             | The password of the user in the Domain Admins security group |
| <mark type="bullet_intro">LOGFILE\_INPUT</b>       |                                                              |
| <mark type="bullet_intro">LOGFILE\_OUTPUT</b>      |                                                              |
| <mark type="bullet_intro">parse\_whck.ps1</b>      |                                                              |
| <mark type="bullet_intro">ClusterName</b>          | The name of the cluster to be created                        |





