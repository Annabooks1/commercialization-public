---
title: S2D - Setup Storage Cluster
Description: S2D - Setup Storage Cluster
ms.assetid: c520cd6f-1f42-4fcc-a4a4-9862cfdf3a37
author: sapaetsc-msft
ms.author: sapaetsc
ms.date: 08/28/17
ms.topic: article
ms.prod: windows-hardware
ms.technology: windows-oem
---

# S2D - Setup Storage Cluster

<conditional_block> <conditions> <docset value="standalone"></docset> </conditions>

>[!NOTE]
You can find the latest version of this test documentation on MSDN at the following link:

-   <xref hlink="http://msdn.microsoft.com/en-us/library/windows/hardware/c520cd6f-1f42-4fcc-a4a4-9862cfdf3a37">http://msdn.microsoft.com/en-us/library/windows/hardware/c520cd6f-1f42-4fcc-a4a4-9862cfdf3a37</b>


</conditional_block> Requirements: First run job "S2D - Prepare Machines for Tests" Sets up a storage cluster with Storage Spaces Direct (S2D) enabled, and performs basic storage and spaces configuration. This will provision one storage pool using all eligible disks in the cluster, one virtual disk, and add it to Cluster Shared Volumes (CSV). Only works \*without\* cluster already created, and no storage pool and space created. To reconfigure an existing cluster using this job, first remove all virtual disks, storage pools, and cluster roles, then remove the cluster, before running this job. Or run job "S2D - Remove cluster" to peform the same cleanup. If this job fails, look in the output directory for Configure-S2DCluster.log for details on the failure.

## Test details

<table>
<colgroup>
<col width="50%" />
<col width="50%" />
</colgroup>
<tbody>
<tr class="odd">
<td><mark type="bullet_intro">Specifications</b></td>
<td><ul>
<li>System.Solutions.CloudStorage.S2D</li>
<li>System.Solutions.StorageSpacesDirect.BVTandStress</li>
</ul></td>
</tr>
<tr class="even">
<td><mark type="bullet_intro">Platforms</b></td>
<td><ul>
<li><tla rid="win_threshold_server"></tla> x64</li>
</ul></td>
</tr>
<tr class="odd">
<td><mark type="bullet_intro">Supported Releases</b></td>
<td><ul>
<li><tla rid="win_10"></tla></li>
<li><tla rid="win_10_th2"></tla></li>
<li><tla rid="win_10_rs1"></tla></li>
<li>Windows 10, version 1703</li>
<li>Windows 10, version 1709</li>
</ul></td>
</tr>
<tr class="even">
<td><mark type="bullet_intro">Expected run time (in minutes)</b></td>
<td>60</td>
</tr>
<tr class="odd">
<td><mark type="bullet_intro">Category</b></td>
<td>Scenario</td>
</tr>
<tr class="even">
<td><mark type="bullet_intro">Timeout (in minutes)</b></td>
<td>60</td>
</tr>
<tr class="odd">
<td><mark type="bullet_intro">Requires reboot</b></td>
<td>false</td>
</tr>
<tr class="even">
<td><mark type="bullet_intro">Requires special configuration</b></td>
<td>true</td>
</tr>
<tr class="odd">
<td><mark type="bullet_intro">Type</b></td>
<td>automatic</td>
</tr>
</tbody>
</table>

## Additional documentation

Tests in this feature area might have additional documentation, including prerequisites, setup, and troubleshooting information, that can be found in the following topic(s):

-   <xref rid="p_hlk_test.system_solutions_additional_documentation">System.Solutions additional documentation</b>

## More information

## Parameters

| Parameter name                                | Parameter description                                         |
|-----------------------------------------------|---------------------------------------------------------------|
| <mark type="bullet_intro">ClusterName</b>     | Name of cluster to be created                                 |
| <mark type="bullet_intro">NodeList</b>        | List of node names, separated by commas                       |
| <mark type="bullet_intro">S2DBusTypes</b>     | Specify custom S2D bustypes flags for testing purposes only   |
| <mark type="bullet_intro">ClusterStaticIP</b> | Optional, only set if you need static IP for the cluster name |

## Troubleshooting

For generic troubleshooting of HLK test failures, see <xref rid="p_hlk.troubleshooting_windows_hlk_test_failures">Troubleshooting Windows HLK Test Failures</b>.



