---
title: Multiport Disk Performance Test (LOGO)
Description: Multiport Disk Performance Test (LOGO)
ms.assetid: 989ccf91-be58-4198-b990-bd93b990eb8a
author: sapaetsc-msft
ms.author: sapaetsc
ms.date: 08/28/17
ms.topic: article
ms.prod: windows-hardware
ms.technology: windows-oem
---

# Multiport Disk Performance Test (LOGO)

<conditional_block> <conditions> <docset value="standalone"></docset> </conditions>

>[!NOTE]
You can find the latest version of this test documentation on MSDN at the following link:

-   <xref hlink="http://msdn.microsoft.com/en-us/library/windows/hardware/989ccf91-be58-4198-b990-bd93b990eb8a">http://msdn.microsoft.com/en-us/library/windows/hardware/989ccf91-be58-4198-b990-bd93b990eb8a</b>


</conditional_block>

This test verifies that drives must not provide different behavior or degraded performance for commands based on which port is used for command delivery.

## Test details

<table>
<colgroup>
<col width="50%" />
<col width="50%" />
</colgroup>
<tbody>
<tr class="odd">
<td><mark type="bullet_intro">Specifications</b></td>
<td><ul>
<li>Device.Storage.Hd.MultipleAccess.MultiplePorts</li>
</ul></td>
</tr>
<tr class="even">
<td><mark type="bullet_intro">Platforms</b></td>
<td><ul>
<li><tla rid="win_threshold_server"></tla> x64</li>
</ul></td>
</tr>
<tr class="odd">
<td><mark type="bullet_intro">Supported Releases</b></td>
<td><ul>
<li><tla rid="win_10"></tla></li>
<li><tla rid="win_10_th2"></tla></li>
<li><tla rid="win_10_rs1"></tla></li>
<li>Windows 10, version 1703</li>
<li>Windows 10, version 1709</li>
</ul></td>
</tr>
<tr class="even">
<td><mark type="bullet_intro">Expected run time (in minutes)</b></td>
<td>10</td>
</tr>
<tr class="odd">
<td><mark type="bullet_intro">Category</b></td>
<td>Benchmark</td>
</tr>
<tr class="even">
<td><mark type="bullet_intro">Timeout (in minutes)</b></td>
<td>10</td>
</tr>
<tr class="odd">
<td><mark type="bullet_intro">Requires reboot</b></td>
<td>false</td>
</tr>
<tr class="even">
<td><mark type="bullet_intro">Requires special configuration</b></td>
<td>true</td>
</tr>
<tr class="odd">
<td><mark type="bullet_intro">Type</b></td>
<td>automatic</td>
</tr>
</tbody>
</table>

## Additional documentation

Tests in this feature area might have additional documentation, including prerequisites, setup, and troubleshooting information, that can be found in the following topic(s):

-   <xref rid="p_hlk_test.device_storage_additional_documentation">Device.Storage additional documentation</b>

## Running the test

Before you run the test, complete the test setup for the type of Raid Storage array that you are testing. For more information see, <xref rid="p_hlk_test.hard_disk_drive_testing_prerequisites">Hard Disk Drive Testing Prerequisites</b> and <xref rid="p_hlk_test.scsi_enclosure_services__ses__device_testing_prerequisites">SCSI Enclosure Services (SES) Device Testing Prerequisites</b>.

## Troubleshooting

For generic troubleshooting of HLK test failures, see <xref rid="p_hlk.troubleshooting_windows_hlk_test_failures">Troubleshooting Windows HLK Test Failures</b>.

The most relevant logs for trouble shooting are **diskIO.wtl** and **multiportperf.log.wtl**.

Make sure that:

-   Your test environment is set up so that two HBA ports are connected from the Test Computer to the Storage Target (Enclosure Device).

-   You have selected the MPIO Pseudo-LUN in the Selection tab of HLK Studio.

-   The disk that you have selected in the **Selection** tab of the HLK Studio is online.

For general storage troubleshooting information, see <xref rid="p_hlk_test.troubleshooting_devicestorage_testing">Troubleshooting Device.Storage Testing</b>.

## More information

This test checks that the performance of enclosure disks is not degraded through different ports. To do that, we assume on the enclosure device side that the LUNs have the same configuration, and each port from the storage array has the same connections with HBA ports on server. The test finds different disk instances for the same disk connected by different HBA ports. Then it collects read/write/verify sequential and random throughput performance data, and compares them among different disk instances. The test fails if there is 10% performance degradation.

## Command syntax

<table>
<colgroup>
<col width="50%" />
<col width="50%" />
</colgroup>
<thead>
<tr class="header">
<th>Command option</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><p><strong>multiportperf.exe -lun [StorageDriveNumber]</strong></p></td>
<td><p>Runs the test</p></td>
</tr>
</tbody>
</table>

>[!NOTE]
For command-line help for this test binary, type **/h**.


## File list

<table>
<colgroup>
<col width="50%" />
<col width="50%" />
</colgroup>
<thead>
<tr class="header">
<th>File</th>
<th>Location</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><p>multiportperf.exe</p></td>
<td><p><placeholder>&lt;[testbinroot]&gt;</placeholder>\nttest\DRIVERSTEST\storage\wdk\</p></td>
</tr>
<tr class="even">
<td><p>diskio.exe</p></td>
<td><p><placeholder>&lt;[testbinroot]&gt;</placeholder>\nttest\DRIVERSTEST\storage\wdk\</p></td>
</tr>
<tr class="odd">
<td><p>storagedevices.dll</p></td>
<td><p><placeholder>&lt;[testbinroot]&gt;</placeholder>\nttest\DRIVERSTEST\storage\wdk\</p></td>
</tr>
</tbody>
</table>

## Parameters

| Parameter name                                   | Parameter description                      |
|--------------------------------------------------|--------------------------------------------|
| <mark type="bullet_intro">LLU\_NetAccessOnly</b> | User account for accessing test fileshare. |
| <mark type="bullet_intro">LLU\_LclAdminUsr</b>   | User account for running the test.         |
| <mark type="bullet_intro">WDKDeviceID</b>        | Instance path of device to test            |
| <mark type="bullet_intro">StorageDriveNumber</b> | The disk numbert EX: 1                     |
| <mark type="bullet_intro">DiskDeviceObjLink</b>  |                                            |





