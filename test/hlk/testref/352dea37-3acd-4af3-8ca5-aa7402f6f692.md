---
title: WDDM CCD Test for verifying only one internal target active on GPU
Description: WDDM CCD Test for verifying only one internal target active on GPU
ms.assetid: f679a4e1-a0f7-4339-92e8-e86ddde6ac5f
author: sapaetsc-msft
ms.author: sapaetsc
ms.date: 08/28/17
ms.topic: article
ms.prod: windows-hardware
ms.technology: windows-oem
---

# WDDM CCD Test for verifying only one internal target active on GPU

<conditional_block> <conditions> <docset value="standalone"></docset> </conditions>

>[!NOTE]
You can find the latest version of this test documentation on MSDN at the following link:

-   <xref hlink="http://msdn.microsoft.com/en-us/library/windows/hardware/f679a4e1-a0f7-4339-92e8-e86ddde6ac5f">http://msdn.microsoft.com/en-us/library/windows/hardware/f679a4e1-a0f7-4339-92e8-e86ddde6ac5f</b>


</conditional_block>

This automated queries all display devices and ensures that only one internal device is actively driving an output. Having two displays marked as internal is not supported.

## Test details

<table>
<colgroup>
<col width="50%" />
<col width="50%" />
</colgroup>
<tbody>
<tr class="odd">
<td><mark type="bullet_intro">Specifications</b></td>
<td><ul>
<li>System.Client.Graphics.NoMoreThanOneInternalMonitor</li>
</ul></td>
</tr>
<tr class="even">
<td><mark type="bullet_intro">Platforms</b></td>
<td><ul>
<li><tla rid="win_threshold_desktop"></tla> x86</li>
<li><tla rid="win_threshold_desktop"></tla> x64</li>
<li><tla rid="win_threshold_desktop"></tla> ARM64</li>
</ul></td>
</tr>
<tr class="odd">
<td><mark type="bullet_intro">Supported Releases</b></td>
<td><ul>
<li><tla rid="win_10"></tla></li>
<li><tla rid="win_10_th2"></tla></li>
<li><tla rid="win_10_rs1"></tla></li>
<li>Windows 10, version 1703</li>
<li>Windows 10, version 1709</li>
</ul></td>
</tr>
<tr class="even">
<td><mark type="bullet_intro">Expected run time (in minutes)</b></td>
<td>1</td>
</tr>
<tr class="odd">
<td><mark type="bullet_intro">Category</b></td>
<td>Compatibility</td>
</tr>
<tr class="even">
<td><mark type="bullet_intro">Timeout (in minutes)</b></td>
<td>1</td>
</tr>
<tr class="odd">
<td><mark type="bullet_intro">Requires reboot</b></td>
<td>false</td>
</tr>
<tr class="even">
<td><mark type="bullet_intro">Requires special configuration</b></td>
<td>false</td>
</tr>
<tr class="odd">
<td><mark type="bullet_intro">Type</b></td>
<td>automatic</td>
</tr>
</tbody>
</table>

## Additional documentation

Tests in this feature area might have additional documentation, including prerequisites, setup, and troubleshooting information, that can be found in the following topic(s):

-   <xref rid="p_hlk_test.system_client_additional_documentation">System.Client additional documentation</b>

## Running the test

Before you run the test, complete the test setup as described in the test requirements: <xref rid="p_hlk_test.system_client_testing_prerequisites">System Client Testing Prerequisites</b>.

## Troubleshooting

For generic troubleshooting of HLK test failures, see <xref rid="p_hlk.troubleshooting_windows_hlk_test_failures">Troubleshooting Windows HLK Test Failures</b>.

For troubleshooting information, see <xref rid="p_hlk_test.troubleshooting_system_client_testing">Troubleshooting System Client Testing</b>.

## More information

In order for this test to complete successfully, the following must be true:

-   Windows must be able to drive any target from any source, although there may be constraints on which target may be driven in combination.

-   When Windows asks for the EDID, the driver must provide the most current EDID. If there's been an interruption (sleep/resume, PnP stop/start) in the drivers ability to detect connection state, the driver must re-query the display device.

-   For each DVI-I connector on the system, the graphics adapter or chipset driver must expose one target of type D3DKMDT\_VOT\_DVI and one target of type D3DKMDT\_VOT\_HD15.

-   The graphics adapter or chipset driver must not use D3DKMDT\_VOT\_OTHER as target type for any target type already defined in D3DKMDT\_VIDEO\_OUTPUT\_TECHNOLOGY.

-   The graphics adapter or chipset driver must accurately report the result of the connection state request based on the display device being physically connected. If the driver doesn't have this information it must return STATUS\_GRAPHICS\_UNKNOWN\_CHILD\_STATUS when the operating system invokes the DXGKDDI\_QUERY\_CHILD\_STATUS DDI. On systems with multiple GPUs, the laptop lid target must not be reported as 'connected' on more than one graphics adapter at any given time.

## Parameters

| Parameter name                                   | Parameter description |
|--------------------------------------------------|-----------------------|
| <mark type="bullet_intro">LLU\_NetAccessOnly</b> | LLU Name for net user |





