---
author: joshbax-msft
title: Connected Standby IO Stress
description: Connected Standby IO Stress
MSHAttr:
- 'PreferredSiteName:MSDN'
- 'PreferredLib:/library/windows/hardware'
ms.assetid: b32e3d60-38e0-4525-a2a3-65b0af3bc8ec
---

# Connected Standby IO Stress


This test verifies that Connected Standby is functioning in the presence of IO events and that data corruptions do not occur across Connected Standby transitions.

## Test details


<table>
<colgroup>
<col width="50%" />
<col width="50%" />
</colgroup>
<tbody>
<tr class="odd">
<td><p><strong>Associated requirements</strong></p></td>
<td><p>System.Fundamentals.StorageAndBoot.BootPerformance</p>
<p>[See the system hardware requirements.](http://go.microsoft.com/fwlink/p/?linkid=254482)</p></td>
</tr>
<tr class="even">
<td><p><strong>Platforms</strong></p></td>
<td><p>Windows RT (ARM-based) Windows 8 (x86) Windows RT 8.1 Windows 8.1 x64 Windows 8.1 x86</p></td>
</tr>
<tr class="odd">
<td><p><strong>Expected run time</strong></p></td>
<td><p>~480 minutes</p></td>
</tr>
<tr class="even">
<td><p><strong>Categories</strong></p></td>
<td><p>Certification Reliability</p></td>
</tr>
<tr class="odd">
<td><p><strong>Type</strong></p></td>
<td><p>Automated</p></td>
</tr>
</tbody>
</table>

 

## Running the test


Before you run the test, complete the test setup as described in the test requirements: [WDTF System Fundamentals Testing Prerequisites](wdtf-system-fundamentals-testing-prerequisites.md).

Before running the test, ensure that the system is able to enter and exit Connected Standby reliably. The test will stress its Connected Standby support. Also, ensure that there is greater than 2GB of free space on the boot volume to ensure that RapidFile is able to write to the disk.

## Troubleshooting


For troubleshooting information, see [Troubleshooting the Windows HCK Environment](troubleshooting-the-windows-hck-environment.md).

If the Check Configuration section fails, look at the log from the “Run ParseTrace.exe” task to determine why it failed. It may be caused by the system not entering in Connected Standby in response to the test issuing that command.

If the test fails on the Long Haul section then you can look into the last wtl logs generated by SCSI Compliance, RapidFile, and the Connected Standby script to determine what the cause of the error was.

## More information


The test consists of three parts: setup, check configuration, and long haul.

The setup part copies the files to the system, exempts processes from the DAM, and enables test signing. Failures in this section are straightforward and the cause can be determined by viewing the error codes returned from the task.

The check configuration part runs Connected Standby, RapidFile, and SCSI Compliance tests in parallel for a few minutes while tracing the disk activity and the power states of the devices. This is to ensure that the devices are entering the proper power states in response to the test. Most commonly, a failure will be seen in the “Run ParseTrace.exe” task which evaluates the results from the ETW traces and determines if the devices entered the proper states. Viewing the task log for this task should reveal the cause of failure.

If the first two parts passed, the test enters into the long haul part where the same three files are run in parallel as in the check configuration part, but this time without the ETW tracing. The tasks run for 8 hours and passes as long as the system is able to continue running for that time and data integrity is maintained.

### Command syntax

<table>
<colgroup>
<col width="50%" />
<col width="50%" />
</colgroup>
<thead>
<tr class="header">
<th>Command option</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><p>/Process</p></td>
<td><p>Process to run: ConnectedStandby, RapidFile, RapidFileVerify, or SCSICompliance.</p></td>
</tr>
<tr class="even">
<td><p>/Duration</p></td>
<td><p>Duration to run the test (seconds).</p></td>
</tr>
<tr class="odd">
<td><p>/Device</p></td>
<td><p>Drive letter or physical drive number of device to test.</p></td>
</tr>
<tr class="even">
<td><p>/Scenario</p></td>
<td><p>Scenario type to test: CheckConfiguration, Stress, LongHaul, or SelectiveSuspend.</p>
<p>Default value: LongHaul</p></td>
</tr>
</tbody>
</table>

 

**Note**  
For command line help for this test binary, type **/h**.

 

### Command usage

<table>
<colgroup>
<col width="50%" />
<col width="50%" />
</colgroup>
<thead>
<tr class="header">
<th>Command</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><p><strong>cscript.exe ConnectedStandbyIOStress.wsf /Process:ConnectedStandby /Duration:[RunDurationSeconds] /Scenario:[Scenario]</strong></p></td>
<td><p>Runs the Connected Standby test.</p></td>
</tr>
<tr class="even">
<td><p><strong>cscript.exe ConnectedStandbyIOStress.wsf /Process:RapidFile /Duration:[RunDurationSeconds] /Device:[StorageDriveLetter] /Scenario:[Scenario]</strong></p></td>
<td><p>Runs the RapidFile test.</p></td>
</tr>
<tr class="odd">
<td><p><strong>cscript.exe ConnectedStandbyIOStress.wsf /Process:SCSICompliance /Duration:[RunDurationSeconds] /Device:[StorageDriveNumber] /Scenario:[Scenario]</strong></p></td>
<td><p>Runs the SCSI Compliance test.</p></td>
</tr>
</tbody>
</table>

 

**Note**  
For command line help for this test binary, type **/h.**

 

### File list

<table>
<colgroup>
<col width="50%" />
<col width="50%" />
</colgroup>
<thead>
<tr class="header">
<th>File</th>
<th>Location</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><p>ntlog.dll</p></td>
<td><p><em>&lt;osbinroot&gt;</em>\nttest\commontest\ntlog\</p></td>
</tr>
<tr class="even">
<td><p>ntlogger.ini</p></td>
<td><p><em>&lt;osbinroot&gt;</em>\nttest\commontest\ntlog\</p></td>
</tr>
<tr class="odd">
<td><p>Damx.exe</p></td>
<td><p><em>&lt;testbinroot&gt;</em>\cstools\dam\</p></td>
</tr>
<tr class="even">
<td><p>Stresslog.dll</p></td>
<td><p><em>&lt;testbinroot&gt;</em>\nttest\basetest\core_file_services\shared_libs\</p></td>
</tr>
<tr class="odd">
<td><p>Fbslog.dll</p></td>
<td><p><em>&lt;testbinroot&gt;</em>\nttest\basetest\core_file_services\shared_libs\fbslog\</p></td>
</tr>
<tr class="even">
<td><p>Rapidfile.exe</p></td>
<td><p><em>&lt;testbinroot&gt;</em>\nttest\basetest\core_file_services\shared_tests\wdk</p></td>
</tr>
<tr class="odd">
<td><p>ParseTrace.exe</p></td>
<td><p><em>&lt;testbinroot&gt;</em>\nttest\driverstest\storage\sd\lowpower\</p></td>
</tr>
<tr class="even">
<td><p>ConnectedStandbyIOStress.wsf</p></td>
<td><p><em>&lt;testbinroot&gt;</em>\nttest\driverstest\storage\wdk\connectedstandy\</p></td>
</tr>
<tr class="odd">
<td><p>Wttlog_obj.js</p></td>
<td><p><em>&lt;testbinroot&gt;</em>\nttest\driverstest\storage\wdk\</p></td>
</tr>
<tr class="even">
<td><p>Scsicompliance.exe</p></td>
<td><p><em>&lt;testbinroot&gt;</em>\nttest\driverstest\storage\wdk\</p></td>
</tr>
</tbody>
</table>

 

 

 






