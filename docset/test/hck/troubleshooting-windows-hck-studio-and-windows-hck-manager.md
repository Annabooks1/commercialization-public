---
author: joshbax-msft
title: Troubleshooting Windows HCK Studio and Windows HCK Manager
description: Troubleshooting Windows HCK Studio and Windows HCK Manager
MSHAttr:
- 'PreferredSiteName:MSDN'
- 'PreferredLib:/library/windows/hardware'
ms.assetid: d6d3798b-d371-4636-9530-07935caaa080
---

# Troubleshooting Windows HCK Studio and Windows HCK Manager


This topic describes how to troubleshoot issues with the Windows Hardware Certification Kit (Windows HCK) Studio and Windows HCK Manager.

For help with problems that occur during Windows HCK Studio and Windows HCK Manager setup, see [Troubleshooting Windows HCK Setup](troubleshooting-windows-hck-setup.md).

**In this topic:**

-   [An error message displays that is not specific to the failure](#nonspecific)

-   [Failed to start the task: Failed to GetUserToken](#getusertoken)

-   [Show all context menu command causes UI to become unresponsive when large (GB+) files are present](#gbplus)

-   [Start Windows HCK Studio and Windows HCK Manager in Windows 8](#win8)

-   [System name is wrong in the machine pool](#sysname)

-   [Test does not recover after a critical error](#criterr)

-   [Test fails without an error](#withouterr)

-   [Test list does not update after configuration changes](#testlist)

-   [Unsupported scenario](#unsupp)

-   [Windows HCK Studio crashes if updates are applied to the Controller](#updates)

-   [Unable to determine the identify of domain error](#iddomain)

## <a href="" id="nonspecific"></a>An error message displays that is not specific to the failure


An error message appears that is not specific to the failure; it is the general error message that displays when the UI encounters an exception it has not specifically handled:

**HCK Failure**

**HCK Studio encountered a critical failure and needs to exit now.\\n\\nPlease see Event Viewer for more details.**

An exception is listed in the event log; however, the listed exception is not specific to the failure.

A workaround for this problem is to create a new project and restart testing again. The old project is corrupted.

You might be able to delete the results that are generated by the logical machine set (LMS) jobs that created this condition, but the names of the jobs are not the same for each instance.

## <a href="" id="getusertoken"></a>Failed to start the task: Failed to GetUserToken


If the Windows HCK Client computer that is running the test does not have an active user logged in to an available session, this error message might appear:

**Failed to Start the Task" : "Failed to GetUserToken for…**

If you get this error, make sure that the Windows HCK Client computer is not locked or logged off.

## <a href="" id="gbplus"></a>Show all context menu command causes UI to become unresponsive when large (GB+) files are present


The **Show all** context menu command makes a copy of the log files to which the location points. Kernel and full dump files can be very large and can take a very long time to be copied. When the **Show all** command is used with very large files, the UI becomes unresponsive as it waits for the copy to complete.

The best way to get to a large kernel, log or dump file, is to go to the actual location where the file exists. To get to a dump file, open the DiagnosticLogManifest\* file. (This is one of the logs that is populated by the client to the Diagonistic Logs context menu in the **Results** tab.) The contents are similar to the following:

``` syntax
<?xml version="1.0" encoding="utf-8"?>
<DiagnosticLogs>
  <DiagnosticLog Type="EventLog" Source="C:\Windows\TEMP\Working_b225172c-b7fc-4d9d-9a3e-393dc674b0b4\EventLog\Application.evt" Destination="\\10-1361B0111\HCKLogs\DiagnosticLogs\2a513b38-27df-4681-b0cf-de44148c4923\6a860085-3a5b-48ee-bab4-9adfd23950d4\Application.evt" />
  <DiagnosticLog Type="EventLog" Source="C:\Windows\TEMP\Working_b225172c-b7fc-4d9d-9a3e-393dc674b0b4\EventLog\System.evt" Destination="\\10-1361B0111\HCKLogs\DiagnosticLogs\2a513b38-27df-4681-b0cf-de44148c4923\6a860085-3a5b-48ee-bab4-9adfd23950d4\System.evt" />
  <DiagnosticLog Type="KernelModeCrashDump" Source="C:\Windows\TEMP\Working_b225172c-b7fc-4d9d-9a3e-393dc674b0b4\KernelModeCrashDump\KM_f4330059-0cd4-435c-8ad5-ee226c842409.dmp" Destination="\\10-1361B0111\HCKLogs\DiagnosticLogs\2a513b38-27df-4681-b0cf-de44148c4923\6a860085-3a5b-48ee-bab4-9adfd23950d4\KM_f4330059-0cd4-435c-8ad5-ee226c842409.dmp" />
```

In this content, you can find the node: **DiagnosticLog Type="KernelModeCrashDump"**. You can take the value of the **Destination** attribute to get to the actual location of the dump file on the controller.

## <a href="" id="win8"></a>Start Windows HCK Studio and Windows HCK Manager in Windows 8


You can start Windows HCK Studio and Windows HCK Manager by using the Windows 8 **Start** screen. (The Windows HCK **Setup** screen suggests tells you to start these applications by using the **Start** button; this instruction is correct for Windows 7, but not for Windows 8.)

## <a href="" id="sysname"></a>System name is wrong in the machine pool


If the name for a system in the machine pool appears to be randomly generated (for example, RHOQNQHEE77U2), try restarting the Windows HCK Client and Windows HCK Studio. If the problem remains, create a new project.

## <a href="" id="criterr"></a>Test does not recover after a critical error


A test system encounters a critical error, or blue screen, during a test. After rebooting, the test system does not start the next test, and both the test system and the test remain in a **Running** mode. You cannot cancel the test in Windows HCK Studio; Windows HCK Manager fails.

In Windows HCK Manager, select and right-click the test and then select **Delete**. This action deletes the result and forces the test to run again.

**Note**  
Cancelling a running job requires the running test to check with the Windows HCK Controller to see if it has been canceled. Because this job is no longer running on the Windows HCK Client, selecting **Cancel** has no effect.

 

Putting the test machine into a reset state, and continuing on to the next test does not resolve the problem because the running test will never send a message that the test has finished.

A test should recover within a few minutes after a test machine is rebooted from a blue screen event, but if a test fails and causes an unstable state, we recommend that you review the client logs.

## <a href="" id="withouterr"></a>Test fails without an error


Jobs that cancel because they exceed the set time-out do not return a task log or display an error in Windows HCK Studio. To see if a job failed because it timed out, check the job result error messages in Windows HCK Manager. A time-out message is similar to the following:

Result Errors

**\# Message Time Source Machine Name Root Cause**

**1 3/8/2012 1:32:36 PM Execution Agent 10-1361B1222 Failed the Job "timeout"**

**Job Failed And Rest of the Tasks Canceled because Task "timeout task" Failed with Failure Action FailAndStop**

## <a href="" id="testlist"></a>Test list does not update after configuration changes


If you select a test target and then make a change to a test computer's configuration, such as changing the video card, the list of tests for the test target does not update.

To get an updated test list after making a configuration change, deselect the test target, and then select it again. This action creates a new list of tests based on the test target.

## <a href="" id="unsupp"></a>Unsupported scenario


Tests fail if you installed Windows HCK Studio on a computer that is joined to a domain and then removed from the domain to join a workgroup.

To continue the test submission in this scenario, change the Windows HCK Studio computer back to its original domain, or uninstall and reinstall Windows HCK Controller and Windows HCK Studio so that all computers are either joined to a domain or are part of a workgroup.

## <a href="" id="updates"></a>Windows HCK Studio crashes if updates are applied to the Controller


Windows HCK Studio crashes and exits when an attempt is made to rerun jobs from Windows HCK Studio. In this case, the jobs have results before a service build update is applied.

For example:

1.  Install servicing build 8324.3

2.  Run all of the jobs under for a specific feature

3.  Install servicing build 8324.4

4.  Select one of the jobs to run. Windows HCK Studio crashes with an error

If the Windows HCK is installed, and a service build update for that version must be applied, all instances of Windows HCK Studio and Windows HCK Manager must to be shut down on the Windows HCK Controller and restarted only when the update procedure is complete. This includes any remote systems that have installed Windows HCK Studio from the Windows HCK Controller.

This prevents submission and content data that is displayed in Windows HCK studio from getting out of sync with updated data on the Windows HCK Controller and causing it to crash during certain operations that access the missing, updated, or new data.  The Windows HCK manager can also, in some cases, lock files in memory that are updated and cause it to fail. (These are generally .pck files.)

To prevent this, all instances of Windows HCK Studio and Windows HCK Manager must be shut down on the Windows HCK Controller, and on any remote systems that have installed Windows HCK Studio from the Windows HCK Controller, before you install a service build update and apply QFEs. Restart Windows HCK Studio and Windows HCK Manager after the update procedure is complete.

## <a href="" id="iddomain"></a>Unable to determine the identify of domain error


When signing some (large) packages using Windows PowerShell, you might see an exception such as "Unable to determine the identity of domain". When this exception occurs, please use the managed API (see [creating-a-package.md\#BKMK\_CS\_SignPackage](creating-a-package.md)) as a work-around."

## Related topics


[Troubleshooting the Windows HCK Environment](troubleshooting-the-windows-hck-environment.md)

 

 

[Send comments about this topic to Microsoft](mailto:wsddocfb@microsoft.com?subject=Documentation%20feedback%20%5Bp_hck\p_hck%5D:%20Troubleshooting%20Windows%20HCK%20Studio%20and%20Windows%20HCK%20Manager%20%20RELEASE:%20%284/27/2016%29&body=%0A%0APRIVACY%20STATEMENT%0A%0AWe%20use%20your%20feedback%20to%20improve%20the%20documentation.%20We%20don't%20use%20your%20email%20address%20for%20any%20other%20purpose,%20and%20we'll%20remove%20your%20email%20address%20from%20our%20system%20after%20the%20issue%20that%20you're%20reporting%20is%20fixed.%20While%20we're%20working%20to%20fix%20this%20issue,%20we%20might%20send%20you%20an%20email%20message%20to%20ask%20for%20more%20info.%20Later,%20we%20might%20also%20send%20you%20an%20email%20message%20to%20let%20you%20know%20that%20we've%20addressed%20your%20feedback.%0A%0AFor%20more%20info%20about%20Microsoft's%20privacy%20policy,%20see%20http://privacy.microsoft.com/default.aspx. "Send comments about this topic to Microsoft")





